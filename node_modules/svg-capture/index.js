/** 随机生成SVG验证码
 * @returns Object
 */
function create() {
  let str = "0123456789abcdeJKNBVfghiFYTUGIHKkdsfFHGHKJas";
  let one = Math.floor(Math.random() * (str.length - 1 - 0 + 1) + 0);
  let two = Math.floor(Math.random() * (str.length - 1 - 0 + 1) + 0);
  let three = Math.floor(Math.random() * (str.length - 1 - 0 + 1) + 0);
  let four = Math.floor(Math.random() * (str.length - 1 - 0 + 1) + 0);
  let text = "" + str[one] + str[two] + str[three] + str[four];

  return {
    // text: text,
    text,
    data: `<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
      <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1" />
          <stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
        </linearGradient>
      </defs>
      <ellipse cx="200" cy="70" rx="85" ry="55" fill="url(#grad1)" />
      <text fill="#ffffff" font-size="45" font-family="Verdana" x="150" y="86">${text}</text>
    </svg>
    `,
  };
}

module.exports = {
  create,
};
