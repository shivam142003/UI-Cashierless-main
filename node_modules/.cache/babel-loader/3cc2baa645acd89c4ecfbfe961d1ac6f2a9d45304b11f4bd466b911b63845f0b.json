{"ast":null,"code":"import { SOLANA_PROTOCOL } from './constants.js';\n/**\n * Encode a Solana Pay URL.\n *\n * @param fields Fields to encode in the URL.\n */\nexport function encodeURL(fields) {\n  return 'link' in fields ? encodeTransactionRequestURL(fields) : encodeTransferRequestURL(fields);\n}\nfunction encodeTransactionRequestURL(_ref) {\n  let {\n    link,\n    label,\n    message\n  } = _ref;\n  // Remove trailing slashes\n  const pathname = link.search ? encodeURIComponent(String(link).replace(/\\/\\?/, '?')) : String(link).replace(/\\/$/, '');\n  const url = new URL(SOLANA_PROTOCOL + pathname);\n  if (label) {\n    url.searchParams.append('label', label);\n  }\n  if (message) {\n    url.searchParams.append('message', message);\n  }\n  return url;\n}\nfunction encodeTransferRequestURL(_ref2) {\n  let {\n    recipient,\n    amount,\n    splToken,\n    reference,\n    label,\n    message,\n    memo\n  } = _ref2;\n  const pathname = recipient.toBase58();\n  const url = new URL(SOLANA_PROTOCOL + pathname);\n  if (amount) {\n    url.searchParams.append('amount', amount.toFixed(amount.decimalPlaces() ?? 0));\n  }\n  if (splToken) {\n    url.searchParams.append('spl-token', splToken.toBase58());\n  }\n  if (reference) {\n    if (!Array.isArray(reference)) {\n      reference = [reference];\n    }\n    for (const pubkey of reference) {\n      url.searchParams.append('reference', pubkey.toBase58());\n    }\n  }\n  if (label) {\n    url.searchParams.append('label', label);\n  }\n  if (message) {\n    url.searchParams.append('message', message);\n  }\n  if (memo) {\n    url.searchParams.append('memo', memo);\n  }\n  return url;\n}","map":{"version":3,"names":["SOLANA_PROTOCOL","encodeURL","fields","encodeTransactionRequestURL","encodeTransferRequestURL","_ref","link","label","message","pathname","search","encodeURIComponent","String","replace","url","URL","searchParams","append","_ref2","recipient","amount","splToken","reference","memo","toBase58","toFixed","decimalPlaces","Array","isArray","pubkey"],"sources":["C:\\Users\\Shivam\\OneDrive\\Desktop\\UI-Cashierless-main\\UI-Cashierless-main\\node_modules\\@solana\\pay\\src\\encodeURL.ts"],"sourcesContent":["import { SOLANA_PROTOCOL } from './constants.js';\nimport type { Amount, Label, Memo, Message, Recipient, References, SPLToken } from './types.js';\n\n/**\n * Fields of a Solana Pay transaction request URL.\n */\nexport interface TransactionRequestURLFields {\n    /** `link` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#link). */\n    link: URL;\n    /** `label` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#label-1). */\n    label?: Label;\n    /** `message` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#message-1).  */\n    message?: Message;\n}\n\n/**\n * Fields of a Solana Pay transfer request URL.\n */\nexport interface TransferRequestURLFields {\n    /** `recipient` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#recipient). */\n    recipient: Recipient;\n    /** `amount` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#amount). */\n    amount?: Amount;\n    /** `spl-token` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#spl-token). */\n    splToken?: SPLToken;\n    /** `reference` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#reference). */\n    reference?: References;\n    /** `label` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#label). */\n    label?: Label;\n    /** `message` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#message).  */\n    message?: Message;\n    /** `memo` in the [Solana Pay spec](https://github.com/solana-labs/solana-pay/blob/master/SPEC.md#memo). */\n    memo?: Memo;\n}\n\n/**\n * Encode a Solana Pay URL.\n *\n * @param fields Fields to encode in the URL.\n */\nexport function encodeURL(fields: TransactionRequestURLFields | TransferRequestURLFields): URL {\n    return 'link' in fields ? encodeTransactionRequestURL(fields) : encodeTransferRequestURL(fields);\n}\n\nfunction encodeTransactionRequestURL({ link, label, message }: TransactionRequestURLFields): URL {\n    // Remove trailing slashes\n    const pathname = link.search\n        ? encodeURIComponent(String(link).replace(/\\/\\?/, '?'))\n        : String(link).replace(/\\/$/, '');\n    const url = new URL(SOLANA_PROTOCOL + pathname);\n\n    if (label) {\n        url.searchParams.append('label', label);\n    }\n\n    if (message) {\n        url.searchParams.append('message', message);\n    }\n\n    return url;\n}\n\nfunction encodeTransferRequestURL({\n    recipient,\n    amount,\n    splToken,\n    reference,\n    label,\n    message,\n    memo,\n}: TransferRequestURLFields): URL {\n    const pathname = recipient.toBase58();\n    const url = new URL(SOLANA_PROTOCOL + pathname);\n\n    if (amount) {\n        url.searchParams.append('amount', amount.toFixed(amount.decimalPlaces() ?? 0));\n    }\n\n    if (splToken) {\n        url.searchParams.append('spl-token', splToken.toBase58());\n    }\n\n    if (reference) {\n        if (!Array.isArray(reference)) {\n            reference = [reference];\n        }\n\n        for (const pubkey of reference) {\n            url.searchParams.append('reference', pubkey.toBase58());\n        }\n    }\n\n    if (label) {\n        url.searchParams.append('label', label);\n    }\n\n    if (message) {\n        url.searchParams.append('message', message);\n    }\n\n    if (memo) {\n        url.searchParams.append('memo', memo);\n    }\n\n    return url;\n}\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,gBAAgB;AAmChD;;;;;AAKA,OAAM,SAAUC,SAASA,CAACC,MAA8D;EACpF,OAAO,MAAM,IAAIA,MAAM,GAAGC,2BAA2B,CAACD,MAAM,CAAC,GAAGE,wBAAwB,CAACF,MAAM,CAAC;AACpG;AAEA,SAASC,2BAA2BA,CAAAE,IAAA,EAAsD;EAAA,IAArD;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAO,CAA+B,GAAAH,IAAA;EACtF;EACA,MAAMI,QAAQ,GAAGH,IAAI,CAACI,MAAM,GACtBC,kBAAkB,CAACC,MAAM,CAACN,IAAI,CAAC,CAACO,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GACrDD,MAAM,CAACN,IAAI,CAAC,CAACO,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACrC,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACf,eAAe,GAAGS,QAAQ,CAAC;EAE/C,IAAIF,KAAK,EAAE;IACPO,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,OAAO,EAAEV,KAAK,CAAC;;EAG3C,IAAIC,OAAO,EAAE;IACTM,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,SAAS,EAAET,OAAO,CAAC;;EAG/C,OAAOM,GAAG;AACd;AAEA,SAASV,wBAAwBA,CAAAc,KAAA,EAQN;EAAA,IARO;IAC9BC,SAAS;IACTC,MAAM;IACNC,QAAQ;IACRC,SAAS;IACTf,KAAK;IACLC,OAAO;IACPe;EAAI,CACmB,GAAAL,KAAA;EACvB,MAAMT,QAAQ,GAAGU,SAAS,CAACK,QAAQ,EAAE;EACrC,MAAMV,GAAG,GAAG,IAAIC,GAAG,CAACf,eAAe,GAAGS,QAAQ,CAAC;EAE/C,IAAIW,MAAM,EAAE;IACRN,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,QAAQ,EAAEG,MAAM,CAACK,OAAO,CAACL,MAAM,CAACM,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;;EAGlF,IAAIL,QAAQ,EAAE;IACVP,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,WAAW,EAAEI,QAAQ,CAACG,QAAQ,EAAE,CAAC;;EAG7D,IAAIF,SAAS,EAAE;IACX,IAAI,CAACK,KAAK,CAACC,OAAO,CAACN,SAAS,CAAC,EAAE;MAC3BA,SAAS,GAAG,CAACA,SAAS,CAAC;;IAG3B,KAAK,MAAMO,MAAM,IAAIP,SAAS,EAAE;MAC5BR,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,WAAW,EAAEY,MAAM,CAACL,QAAQ,EAAE,CAAC;;;EAI/D,IAAIjB,KAAK,EAAE;IACPO,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,OAAO,EAAEV,KAAK,CAAC;;EAG3C,IAAIC,OAAO,EAAE;IACTM,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,SAAS,EAAET,OAAO,CAAC;;EAG/C,IAAIe,IAAI,EAAE;IACNT,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,MAAM,EAAEM,IAAI,CAAC;;EAGzC,OAAOT,GAAG;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}